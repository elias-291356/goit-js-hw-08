{"mappings":"weA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,QAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,UAI9BT,IACb,IACEK,aAAaQ,WAAWb,E,CACxB,MAAOO,GACPC,QAAQM,IAAI,oBAAqBP,EAAME,Q,iBCpB3C,MAAMM,EAASC,SAASC,cAAc,kBAChCC,EAAW,GAEa,MAC5B,MAAMC,EAAiBpB,EAAoBqB,KAAK,uBAIhD,GAFAZ,QAAQM,IAAIK,QAEWR,IAAnBQ,EAAJ,CAGAX,QAAQM,IAAIK,GACZX,QAAQM,IAAIC,EAAOM,UAEnB,IAAK,MAAMrB,KAAOmB,EACZA,EAAeG,eAAetB,KAChCe,EAAOM,SAASrB,GAAKC,MAAQkB,EAAenB,GAP9C,CAOkD,EAKtDuB,GAwBAR,EAAOS,iBAAiB,UAtBIC,IAC1B,MAAQC,OAAQC,GAAsBF,EAEhCxB,EAAQ0B,EAAkB1B,MAC1B2B,EAAOD,EAAkBC,KAC/BV,EAASU,GAAQ3B,EAEjBF,EAAoB8B,KAAK,sBAAuBX,EAAS,IAgB3DH,EAAOS,iBAAiB,UAZCC,IACvBA,EAAMK,iBACNL,EAAMC,OAAOK,QAEbhC,EAAoBiC,OAAO,sBAAuB,IAUpDjB,EAAOS,iBAAiB,QAASS,EAAAC,UAAWT,IAC1C,MAAQC,OAAQS,GAAWV,EACrBxB,EAAQkC,EAAOlC,MACf2B,EAAOO,EAAOP,KACpBV,EAASU,GAAQ3B,EACjBF,EAAoB8B,KAAK,sBAAuBX,EAAS,GACxD","sources":["src/js/localStorage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error', error.message);\n  }\n}\n\nexport default {\n  save,\n  load,\n  remove,\n};","import localStorageService from \"./localStorage\";\nconst _ = require('lodash');\nconst formEl = document.querySelector(\".feedback-form\");\nconst userData = {};\n\nconst fillContactFormFields = () => {\n  const userDataFromLs = localStorageService.load('feedback-form-state');\n  // const userDataFromLs = JSON.parse(localStorage.getItem('feedback-form-state'));\n  console.log(userDataFromLs);\n\n  if (userDataFromLs === undefined) {\n    return;\n  }\n  console.log(userDataFromLs);\n  console.log(formEl.elements);\n\n  for (const key in userDataFromLs) {\n    if (userDataFromLs.hasOwnProperty(key)) {\n      formEl.elements[key].value = userDataFromLs[key];\n    }\n  }\n\n};\nfillContactFormFields();\n\nconst onFormElFieldChange = event => {\n  const { target: FormElFieldChange } = event;\n\n  const value = FormElFieldChange.value;\n  const name = FormElFieldChange.name;\n  userData[name] = value;\n\n  localStorageService.save(\"feedback-form-state\", userData);\n  // localStorage.setItem(\"feedback-form-state\", JSON.stringify(userData));\n}\n\nconst onformElElSubmit = event => {\n  event.preventDefault();\n  event.target.reset();\n\n  localStorageService.remove(\"feedback-form-state\",)\n  // localStorage.removeItem(\"feedback-form-state\");\n\n}\n\n\n\nformEl.addEventListener('change', onFormElFieldChange);\nformEl.addEventListener('submit', onformElElSubmit);\n\nformEl.addEventListener('input', _.throttle(event => {\n  const { target: formEl } = event;\n  const value = formEl.value;\n  const name = formEl.name;\n  userData[name] = value;\n  localStorageService.save('feedback-form-state', userData);\n}, 500)\n);\n"],"names":["$2338c8cd734f85a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","log","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$userData","userDataFromLs","load","elements","hasOwnProperty","$945622fd0f572e60$var$fillContactFormFields","addEventListener","event","target","FormElFieldChange","name","save","preventDefault","reset","remove","$kEUo3","throttle","formEl1"],"version":3,"file":"03-feedback.0a0b1b61.js.map"}
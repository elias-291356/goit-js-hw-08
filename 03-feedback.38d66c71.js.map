{"mappings":"gfAAA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAuB3CC,KAnBW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CK,OAXa,SAAAd,GACb,IACEK,aAAaU,WAAWf,E,CACxB,MAAOO,GACPC,QAAQQ,IAAI,oBAAqBT,EAAME,Q,iBCpBrCQ,EAASC,SAASC,cAAc,kBAClCC,EAAW,IAEe,WAC5B,IAAMC,EAAiBvB,EAAoBY,KAAK,uBAChD,QAAuBE,IAAnBS,EAAJ,CAGAb,QAAQQ,IAAIC,EAAOK,U,IACdC,GAAS,EAATC,GAAS,EAATC,OAASb,E,IAAd,QAAKc,EAAAC,EAAaC,OAAOC,KAAKR,GAAeS,OAAAC,cAAxCR,GAAAG,EAAAC,EAASK,QAAAC,MAATV,GAAS,GAAT,IAAMvB,EAAN0B,EAASzB,MACRoB,EAAea,eAAelC,KAChCiB,EAAOK,SAAStB,GAAKC,MAAQoB,EAAerB,G,WAF3CwB,GAAS,EAATC,EAASU,C,aAATZ,GAAS,MAATI,EAASS,QAATT,EAASS,Q,YAATZ,E,MAAAC,C,EAKLL,EAAWC,CART,C,CAUJgB,GASApB,EAAOqB,iBACL,QACAC,EAAAC,UAAW,SAAAC,GACT,IAAQC,EAA+BD,EAA/BE,OACFC,EAAOF,EAAmBE,KAC1B3C,EAAQyC,EAAmBzC,MACjCmB,EAASwB,GAAQ3C,EACjBH,EAAoBC,KAAK,sBAAuBqB,E,GAC/C,MAELH,EAAOqB,iBAAiB,UAjBC,SAAAG,GACvBA,EAAMI,iBACNJ,EAAME,OAAOG,QACbhD,EAAoBgB,OAAO,uBAC3BN,QAAQQ,IAAII,GACZA,EAAW,E","sources":["src/js/localStorage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error', error.message);\n  }\n}\n\nexport default {\n  save,\n  load,\n  remove,\n};","import localStorageService from \"./localStorage\";\nconst _ = require('lodash');\nconst formEl = document.querySelector(\".feedback-form\");\nlet userData = {};\n\nconst fillContactFormFields = () => {\n  const userDataFromLs = localStorageService.load('feedback-form-state');\n  if (userDataFromLs === undefined) {\n    return;\n  }\n  console.log(formEl.elements);\n  for (const key of Object.keys(userDataFromLs)) {\n    if (userDataFromLs.hasOwnProperty(key)) {\n      formEl.elements[key].value = userDataFromLs[key];\n    }\n  }\n  userData = userDataFromLs;\n};\nfillContactFormFields();\n\nconst onformElElSubmit = event => {\n  event.preventDefault();\n  event.target.reset();\n  localStorageService.remove(\"feedback-form-state\",)\n  console.log(userData);\n  userData = {};\n}\nformEl.addEventListener(\n  'input',\n  _.throttle(event => {\n    const { target: contactFormElement } = event;\n    const name = contactFormElement.name;\n    const value = contactFormElement.value;\n    userData[name] = value;\n    localStorageService.save('feedback-form-state', userData);\n  }, 500)\n);\nformEl.addEventListener('submit', onformElElSubmit);\n\n\n\n\n\n\n\n\n"],"names":["$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","log","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$userData","userDataFromLs","elements","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Object","keys","Symbol","iterator","next","done","hasOwnProperty","err","return","$b00c40859be242c5$var$fillContactFormFields","addEventListener","$1WSnx","throttle","event","contactFormElement","target","name","preventDefault","reset"],"version":3,"file":"03-feedback.38d66c71.js.map"}
{"mappings":"gfAAA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAuB3CC,KAnBW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CK,OAXa,SAAAd,GACb,IACEK,aAAaU,WAAWf,E,CACxB,MAAOO,GACPC,QAAQQ,IAAI,oBAAqBT,EAAME,Q,iBCpBrCQ,EAASC,SAASC,cAAc,kBAClCC,EAAW,IAEe,WAC5B,IAAMC,EAAiBvB,EAAoBY,KAAK,uBAIhD,GAFAF,QAAQQ,IAAIK,QAEWT,IAAnBS,EAAJ,CAMA,IAAK,IAAMrB,KAHXQ,QAAQQ,IAAIK,GACZb,QAAQQ,IAAIC,EAAOK,UAEDD,EACZA,EAAeE,eAAevB,KAChCiB,EAAOK,SAAStB,GAAKC,MAAQoB,EAAerB,IAGhDoB,EAAWC,CAVT,C,CAYJG,GAwBAP,EAAOQ,iBAAiB,UAtBI,SAAAC,GAC1B,IAAQC,EAA8BD,EAA9BE,OAEF3B,EAAQ0B,EAAkB1B,MAC1B4B,EAAOF,EAAkBE,KAC/BT,EAASS,GAAQ5B,EAEjBH,EAAoBC,KAAK,sBAAuBqB,E,IAgBlDH,EAAOQ,iBAAiB,UAZC,SAAAC,GACvBA,EAAMI,iBACNJ,EAAME,OAAOG,QAEbjC,EAAoBgB,OAAO,uBAE3BM,EAAW,E,IAQbH,EAAOQ,iBAAiB,QAASO,EAAAC,UAAW,SAAAP,GAC1C,IAAQQ,EAAmBR,EAAnBE,OACF3B,EAAQiC,EAAOjC,MACf4B,EAAOK,EAAOL,KACpBT,EAASS,GAAQ5B,EACjBH,EAAoBC,KAAK,sB,GACxB,K","sources":["src/js/localStorage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error', error.message);\n  }\n}\n\nexport default {\n  save,\n  load,\n  remove,\n};","import localStorageService from \"./localStorage\";\nconst _ = require('lodash');\nconst formEl = document.querySelector(\".feedback-form\");\nlet userData = {};\n\nconst fillContactFormFields = () => {\n  const userDataFromLs = localStorageService.load('feedback-form-state');\n  // const userDataFromLs = JSON.parse(localStorage.getItem('feedback-form-state'));\n  console.log(userDataFromLs);\n\n  if (userDataFromLs === undefined) {\n    return;\n  }\n  console.log(userDataFromLs);\n  console.log(formEl.elements);\n\n  for (const key in userDataFromLs) {\n    if (userDataFromLs.hasOwnProperty(key)) {\n      formEl.elements[key].value = userDataFromLs[key];\n    }\n  }\n  userData = userDataFromLs;\n};\nfillContactFormFields();\n\nconst onFormElFieldChange = event => {\n  const { target: FormElFieldChange } = event;\n\n  const value = FormElFieldChange.value;\n  const name = FormElFieldChange.name;\n  userData[name] = value;\n\n  localStorageService.save(\"feedback-form-state\", userData);\n  // localStorage.setItem(\"feedback-form-state\", JSON.stringify(userData));\n}\n\nconst onformElElSubmit = event => {\n  event.preventDefault();\n  event.target.reset();\n\n  localStorageService.remove(\"feedback-form-state\",)\n  // localStorage.removeItem(\"feedback-form-state\");\n  userData = {};\n}\n\n\n\nformEl.addEventListener('change', onFormElFieldChange);\nformEl.addEventListener('submit', onformElElSubmit);\n\nformEl.addEventListener('input', _.throttle(event => {\n  const { target: formEl } = event;\n  const value = formEl.value;\n  const name = formEl.name;\n  userData[name] = value;\n  localStorageService.save('feedback-form-state',)\n}, 500)\n\n);\n"],"names":["$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","log","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$userData","userDataFromLs","elements","hasOwnProperty","$b00c40859be242c5$var$fillContactFormFields","addEventListener","event","FormElFieldChange","target","name","preventDefault","reset","$1WSnx","throttle","formEl1"],"version":3,"file":"03-feedback.26fb7dd3.js.map"}